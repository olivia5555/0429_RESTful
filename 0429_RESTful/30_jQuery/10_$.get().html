<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="../_js/jquery-3.7.1.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <style>
      img{
        width: 200px;
        height: 200px;
        object-fit:cover}
    </style>
  </head>

  <body>
    <h4>線上API測試平台 (點選網頁下方的 GET SINGLE USER)</h4>
    <p><a href="https://reqres.in/">https://reqres.in/</a></p>
    <h4>jQuery.get()</h4>
    <p>
      <a href="https://api.jquery.com/jquery.get/"
        >https://api.jquery.com/jquery.get/</a
      >
    </p>
    <hr />
    <button id="btnGetData">取得資料</button>
    <button id="btnGetManyData">取得很多資料</button>
    <div id="divResult">
      顯示資料
      <input type="email" /> <br /><br />
      <img />
    </div>

    <div id = "apple" class="row">
<!-- <div class="col-sm-6 col-lg-2"><img src="/_img/neko.png" alt="">
<p>貓貓貓貓貓</p></div>
<div class="col-sm-6 col-lg-2"><img src="/_img/neko.png" alt="">
<p>貓貓貓貓貓</p></div>
<div class="col-sm-6 col-lg-2"><img src="/_img/neko.png" alt="">
<p>貓貓貓貓貓</p></div>
<div class="col-sm-6 col-lg-2"><img src="/_img/neko.png" alt="">
<p>貓貓貓貓貓</p></div>
<div class="col-sm-6 col-lg-2"><img src="/_img/neko.png" alt="">
<p>貓貓貓貓貓</p></div> -->
</div> 

    <script>
      // 10. 按鈕點選後，取得使用者資料 (測試)
      btnGetData.onclick = function () {
        var url = "https://reqres.in/api/users/2";
        $.get(url, function (data) {
          console.log(data.data.email);
          $('#divResult>input[type="email"]').val(data.data.email);
          $("#divResult>img").prop("src", data.data.avatar);
        });

        var jqxhr = $.get("");
        // 20. $.get(網址, function(){})
        //     觀察資料的格式 https://reqres.in/api/users/2
        //     並試著從中讀取email和大頭照顯示到網頁上
      };
      btnGetManyData.onclick = function () {
        var url = "https://reqres.in/api/users?page=2";
        $.get(url, function (datafromserver) {
          console.log(datafromserver);
          console.log(datafromserver.data);

          for (let t = 0; t < datafromserver.data.length; t++) {
            // console.log(datafromserver.data[t].email);
            // console.log(datafromserver.data[t].avatar);
            $("#apple").append(`
            <div class="col-sm-6 col-lg-2"><img src="${datafromserver.data[t].avatar}" alt=""}>
<p>${datafromserver.data[t].email}</p></div>`);
          }
        });
      };
    </script>
  </body>
</html>
