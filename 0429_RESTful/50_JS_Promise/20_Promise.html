<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
</head>

<body>

    <h4>JavaScript Promises</h4>
    <p><a href='https://www.w3schools.com/js/js_promise.asp'>https://www.w3schools.com/js/js_promise.asp</a></p>
    <h4>使用 Promise</h4>
    <p><a href='https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Using_promises'>https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Guide/Using_promises</a></p>
    
    <script>
        // 10. 宣告 + 測試 Promise 物件 
        //      * new Promise(function(success, reject){});
        //      * Promise.then(function(data){});
        //      * Promise.catch(function(err){});
        //      ----
        //      * Promise.then(function(success){}, function(fail){});

        let apple = new Promise(function(x,y){
            var url = "https://reqres.in/api/users?page=2";
            $.get(url, function (data) {
        if(data){
            x(data);

        }else{

            y('查無資料');
        }
        });

        });

        apple.then(function(cat){
            for (let t = 0; t < datafromserver.data.length; t++) {
            // console.log(datafromserver.data[t].email);
            // console.log(datafromserver.data[t].avatar);
            $("#apple").append(`
            <div class="col-sm-6 col-lg-2"><img src="${datafromserver.data[t].avatar}" alt=""}>
<p>${datafromserver.data[t].email}</p></div>`);
        })
    </script>
</body>

</html>