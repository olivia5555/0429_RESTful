<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <h4>JavaScript Fetch API</h4>
    <p><a href="https://www.w3schools.com/jsref/api_fetch.asp">https://www.w3schools.com/jsref/api_fetch.asp</a></p>
    <h4>Using Fetch</h4>
    <p><a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch">https://developer.mozilla.org/zh-TW/docs/Web/API/Fetch_API/Using_Fetch</a></p>

        // 10. 透過 fetch() 取得 https://reqres.in/api/login 的資料
        //https://opendata.cwa.gov.tw/api/v1/rest/datastore/E-A0015-001?Authorization=rdec-key-123-45678-011121314

    <script>
    let url = "https://reqres.in/api/login";
fetch(url).then(function(x){
let y =x.json();

y.then(function(z){
    console.log(z.data[5].name);
})
})

async function foo(){

let p1 = await fetch(url);
let p2 = await p1.json();
console.log(p2.data[5].name);

}
foo()
        // 20. 透過 fetch() 進行 post 資料
        
let data = {"email":"eve.holt@reqres.in",
    "password":"cityslicka"
}

fetch(url,{
    method:"POST",
    body: JSON.stringify(data),
    headers: {
        "content-type":"application/json",
    }
}).then(function(x){
    let y = x.json();
    y.then(function(z){
        console.log(z);
    })
})




        //-----------------------------------------------------------------------
        // 30. 假設情境：需要登入後，才能取得訂單明細
        //  設計 login() 、 orderlist() 、 main() 
        //  並使用 Promise 搭配 setTimeout 來模擬
        
        // 40. 假設情境：需要登入後，才能取得訂單明細
        //  設計 loginV2() 、 orderlistV2() 、 mainV2()
        //  加入剛剛步驟 20 的程式碼進行模擬
    </script>
</body>
</html>